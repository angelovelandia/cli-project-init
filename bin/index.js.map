{"version":3,"file":"index.js","sources":["../index.js"],"sourcesContent":["#!/usr/bin/env node\r\n\r\nimport chalk from \"chalk\";\r\nimport figlet from \"figlet\";\r\nimport inquirer from \"inquirer\";\r\nimport fs from \"fs\";\r\n\r\nconst PATH = process.cwd().replace(\"\\\\\", \"/\");\r\n\r\nconst QUERYS = [\r\n  {\r\n    name: \"template\",\r\n    type: \"list\",\r\n    message: \"Seleccionar plantilla: \",\r\n    choices: [\"ReactJS\"],\r\n  },\r\n  {\r\n    name: \"router\",\r\n    type: \"list\",\r\n    message: \"Crear router: \",\r\n    choices: [\"true\", \"false\"],\r\n    default: \"true\",\r\n  },\r\n  {\r\n    name: \"hooks_helpers\",\r\n    type: \"list\",\r\n    message: \"Crear hooks y helpers: \",\r\n    choices: [\"true\", \"false\"],\r\n    default: \"true\",\r\n  },\r\n  {\r\n    name: \"components\",\r\n    type: \"input\",\r\n    message: \"Escriba los componentes separados por coma (Header, Footer): \",\r\n    default: \"Header, Banner, Footer, Loader, Modals\",\r\n  },\r\n  {\r\n    name: \"ext\",\r\n    type: \"list\",\r\n    message: \"Selecionar extension de componentes:\",\r\n    choices: [\".js\", \".jsx\"],\r\n    default: \".js\",\r\n  },\r\n  {\r\n    name: \"extcss\",\r\n    type: \"list\",\r\n    message: \"Selecionar extension de archivos de estilos:\",\r\n    choices: [\".css\", \".scss\"],\r\n    default: \".css\",\r\n  },\r\n];\r\n\r\nconst EXPORT_DEFAULT = `export default function [component]() {\r\n    return (\r\n        <div>[component]</div>\r\n    )\r\n}`;\r\n\r\nconst EXPORT_DEFAULT_ROUTER = `export default function Router() {\r\n    return (\r\n        <div>Router</div>\r\n    )\r\n}`;\r\n\r\nconst log = console.log;\r\n\r\nconst initConsole = (text) => {\r\n  console.log(\r\n    chalk.bold.cyan(\r\n      figlet.textSync(text, {\r\n        font: \"ANSI Shadow\",\r\n        horizontalLayout: \"default\",\r\n        verticalLayout: \"default\",\r\n      })\r\n    )\r\n  );\r\n};\r\n\r\nconst queryParams = () => {\r\n  return inquirer.prompt(QUERYS);\r\n};\r\n\r\nconst createRoute = (route) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!fs.existsSync(route)) {\r\n      fs.mkdir(route, \"0777\", (err) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n};\r\n\r\nconst createFile = (route, data = \"\", extFilesStyles = \"\") => {\r\n  return new Promise((resolve, reject) => {\r\n    if (extFilesStyles === \".scss\") {\r\n      if (fs.existsSync(route)) {\r\n        fs.appendFile(route, data, (err) => {\r\n          if (err) {\r\n            reject(err);\r\n          } else {\r\n            resolve();\r\n          }\r\n        });\r\n      } else {\r\n        fs.writeFile(route, data, (err) => {\r\n          if (err) {\r\n            reject(err);\r\n          } else {\r\n            resolve();\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      fs.writeFile(route, data, (err) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nconst createStructReactJS = async (\r\n  component,\r\n  extFilesComponents,\r\n  extFilesStyles\r\n) => {\r\n  const componentName = component.trim();\r\n  const pathBase = `${PATH}/src/components/`;\r\n  const pathComponent = `${pathBase}${componentName}`;\r\n  const pathFileComponent = `${pathComponent}/${componentName}${extFilesComponents}`;\r\n\r\n  await createRoute(pathBase);\r\n\r\n  log(chalk.cyan(componentName + \" ✔️\"));\r\n\r\n  const pathStyles = `${PATH}/src/styles/`;\r\n  await createRoute(pathStyles);\r\n  await createRoute(pathComponent);\r\n\r\n  let pathFileCss = \"\";\r\n  let styles = \"\";\r\n  let dataComponent = \"\";\r\n\r\n  if (extFilesStyles === \".scss\") {\r\n    const pathStylesScss = `${pathStyles}/components/`;\r\n    pathFileCss = `${pathStylesScss}/_${componentName.toLowerCase()}${extFilesStyles}`;\r\n    const raizScss = pathStyles + \"styles.scss\";\r\n\r\n    await createRoute(pathStylesScss);\r\n    await createFile(pathFileCss);\r\n\r\n    styles += `@import \"./components/${componentName.toLowerCase()}\";\\n`;\r\n    await createFile(raizScss, styles, extFilesStyles);\r\n    dataComponent = EXPORT_DEFAULT.replace(\r\n      \"[component]\",\r\n      componentName\r\n    ).replace(\"[component]\", componentName);\r\n  } else {\r\n    pathFileCss = `${pathStyles}/${componentName.toLowerCase()}${extFilesStyles}`;\r\n    const fileCss = `${pathStyles}${componentName.toLowerCase()}${extFilesStyles}`;\r\n    await createFile(fileCss);\r\n    await createFile(pathFileCss);\r\n    let importCss = `import \"../../styles/${componentName.toLowerCase()}${extFilesStyles}\";\\n\\n`;\r\n    dataComponent = `${importCss}${EXPORT_DEFAULT.replace(\r\n      \"[component]\",\r\n      componentName\r\n    ).replace(\"[component]\", componentName)}`;\r\n  }\r\n  await createFile(pathFileComponent, dataComponent);\r\n};\r\n\r\nconst createHooksHelpers = async (extFilesComponents) => {\r\n  const pathHook = `${PATH}/src/hooks/`;\r\n  const pathHookFile = `${PATH}/src/hooks/index${extFilesComponents}`;\r\n  const pathHelpers = `${PATH}/src/helpers/`;\r\n  const pathHelpersFile = `${PATH}/src/helpers/index-helpers${extFilesComponents}`;\r\n\r\n  await createRoute(pathHook);\r\n  await createFile(pathHookFile);\r\n  await createRoute(pathHelpers);\r\n  await createFile(pathHelpersFile);\r\n};\r\n\r\nconst createRouter = async (extFilesComponents) => {\r\n  const path = `${PATH}/src/router/`;\r\n  const pathFile = `${PATH}/src/router/index${extFilesComponents}`;\r\n\r\n  await createRoute(path);\r\n  await createFile(pathFile, EXPORT_DEFAULT_ROUTER);\r\n};\r\n\r\nconst createProjectReact = async (data) => {\r\n  const extFilesComponents = data.ext;\r\n  const extFilesStyles = data.extcss;\r\n  const router = data.router;\r\n  const hooks_helpers = data.hooks_helpers;\r\n\r\n  log(chalk.green(\"Verificando SRC\"));\r\n  let PATH_SRC = `${PATH}/src/`;\r\n  await createRoute(PATH_SRC);\r\n\r\n  const components = data.components.split(\",\");\r\n  log(chalk.green(\"Creando componentes: \" + components));\r\n  log(chalk.green(\"Creando estilos con: \" + extFilesStyles));\r\n\r\n  for (const component of components) {\r\n    try {\r\n      await createStructReactJS(component, extFilesComponents, extFilesStyles);\r\n    } catch (error) {\r\n      log.error(error);\r\n      log(chalk.green(component + \" ❌\"));\r\n    }\r\n  }\r\n\r\n  if (router === \"true\") {\r\n    log(chalk.green(\"Creando router\"));\r\n    await createRouter(extFilesComponents);\r\n  }\r\n\r\n  if (hooks_helpers === \"true\") {\r\n    log(chalk.green(\"Creando hooks y helpers\"));\r\n    await createHooksHelpers(extFilesComponents);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst FUNCTIONS_MAP = {\r\n  ReactJS: createProjectReact,\r\n};\r\n\r\nconst createProjectTemplate = async (data) => {\r\n  const template = data.template;\r\n  const createProjectFunction = FUNCTIONS_MAP[template];\r\n  if (createProjectFunction) {\r\n    try {\r\n      const success = await createProjectFunction(data);\r\n      if (success) {\r\n        console.log(\r\n          chalk.green(\"Todos los componentes fueron creados con éxito!\")\r\n        );\r\n      } else {\r\n        console.log(\r\n          chalk.yellow(\"Algo salió mal durante la creación de componentes.\")\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(chalk.red(\"Error al crear el proyecto:\", error));\r\n    }\r\n  } else {\r\n    console.log(\r\n      chalk.red(\"No se encontró una función para la plantilla seleccionada.\")\r\n    );\r\n  }\r\n};\r\n\r\nconst start = async () => {\r\n  initConsole(\"@AVCODEV\");\r\n  const data = await queryParams();\r\n  await createProjectTemplate(data);\r\n};\r\n\r\nstart();\r\n"],"names":["PATH","process","cwd","replace","QUERYS","name","type","message","choices","default","EXPORT_DEFAULT","log","console","createRoute","route","Promise","resolve","reject","fs","existsSync","mkdir","err","createFile","data","extFilesStyles","appendFile","writeFile","createStructReactJS","async","component","extFilesComponents","componentName","trim","pathBase","pathComponent","pathFileComponent","chalk","cyan","pathStyles","pathFileCss","styles","dataComponent","pathStylesScss","toLowerCase","raizScss","fileCss","FUNCTIONS_MAP","ReactJS","ext","extcss","router","hooks_helpers","green","PATH_SRC","components","split","error","path","pathFile","createRouter","pathHook","pathHookFile","pathHelpers","pathHelpersFile","createHooksHelpers","bold","figlet","textSync","font","horizontalLayout","verticalLayout","inquirer","prompt","createProjectFunction","template","yellow","red","createProjectTemplate","start"],"mappings":"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"}