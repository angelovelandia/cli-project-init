#!/usr/bin/env node
import e from"chalk";import n from"figlet";import r from"inquirer";import t from"fs";function o(e,n){try{var r=e()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}var i="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function s(e,n,r){if(!e.s){if(r instanceof c){if(!r.s)return void(r.o=s.bind(null,e,n));1&n&&(n=r.s),r=r.v}if(r&&r.then)return void r.then(s.bind(null,e,n),s.bind(null,e,2));e.s=n,e.v=r;var t=e.o;t&&t(e)}}var c=/*#__PURE__*/function(){function e(){}return e.prototype.then=function(n,r){var t=new e,o=this.s;if(o){var i=1&o?n:r;if(i){try{s(t,1,i(this.v))}catch(e){s(t,2,e)}return t}return this}return this.o=function(e){try{var o=e.v;1&e.s?s(t,1,n?n(o):o):r?s(t,1,r(o)):s(t,2,o)}catch(e){s(t,2,e)}},t},e}();function u(e){return e instanceof c&&1&e.s}var a=process.cwd().replace("\\","/"),l=[{name:"template",type:"list",message:"Seleccionar plantilla: ",choices:["ReactJS"]},{name:"router",type:"list",message:"Crear router: ",choices:["true","false"],default:"true"},{name:"hooks_helpers",type:"list",message:"Crear hooks y helpers: ",choices:["true","false"],default:"true"},{name:"components",type:"input",message:"Escriba los componentes separados por coma (Header, Footer): ",default:"Header, Banner, Footer, Loader, Modals"},{name:"ext",type:"list",message:"Selecionar extension de componentes:",choices:[".js",".jsx"],default:".js"},{name:"extcss",type:"list",message:"Selecionar extension de archivos de estilos:",choices:[".css",".scss"],default:".css"}],f="export default function [component]() {\n    return (\n        <div>[component]</div>\n    )\n}",h=console.log,m=function(e){return new Promise(function(n,r){t.existsSync(e)?n():t.mkdir(e,"0777",function(e){e?r(e):n()})})},v=function(e,n,r){return void 0===n&&(n=""),void 0===r&&(r=""),new Promise(function(o,i){".scss"===r&&t.existsSync(e)?t.appendFile(e,n,function(e){e?i(e):o()}):t.writeFile(e,n,function(e){e?i(e):o()})})},p={ReactJS:function(n){try{var r=n.ext,t=n.extcss,l=n.router,p=n.hooks_helpers;return h(e.green("Verificando SRC")),Promise.resolve(m(a+"/src/")).then(function(){function d(){function n(){var n=function(){if("true"===p)return h(e.green("Creando hooks y helpers")),Promise.resolve(function(e){try{var n=a+"/src/hooks/index"+e,r=a+"/src/helpers/",t=a+"/src/helpers/index-helpers"+e;return Promise.resolve(m(a+"/src/hooks/")).then(function(){return Promise.resolve(v(n)).then(function(){return Promise.resolve(m(r)).then(function(){return Promise.resolve(v(t)).then(function(){})})})})}catch(e){return Promise.reject(e)}}(r)).then(function(){})}();return!n||!n.then||n.then(function(){return!0})}var t=function(){if("true"===l)return h(e.green("Creando router")),Promise.resolve(function(e){try{var n=a+"/src/router/index"+e;return Promise.resolve(m(a+"/src/router/")).then(function(){return Promise.resolve(v(n,"export default function Router() {\n    return (\n        <div>Router</div>\n    )\n}")).then(function(){})})}catch(e){return Promise.reject(e)}}(r)).then(function(){})}();return t&&t.then?t.then(n):n()}var y=n.components.split(",");h(e.green("Creando componentes: "+y)),h(e.green("Creando estilos con: "+t));var P=function(e,n,r){if("function"==typeof e[i]){var t,o,a,l=e[i]();if(function e(r){try{for(;!(t=l.next()).done;)if((r=n(t.value))&&r.then){if(!u(r))return void r.then(e,a||(a=s.bind(null,o=new c,2)));r=r.v}o?s(o,1,r):o=r}catch(e){s(o||(o=new c),2,e)}}(),l.return){var f=function(e){try{t.done||l.return()}catch(e){}return e};if(o&&o.then)return o.then(f,function(e){throw f(e)});f()}return o}if(!("length"in e))throw new TypeError("Object is not iterable");for(var h=[],m=0;m<e.length;m++)h.push(e[m]);return function(e,n,r){var t,o,i=-1;return function r(a){try{for(;++i<e.length;)if((a=n(i))&&a.then){if(!u(a))return void a.then(r,o||(o=s.bind(null,t=new c,2)));a=a.v}t?s(t,1,a):t=a}catch(e){s(t||(t=new c),2,e)}}(),t}(h,function(e){return n(h[e])})}(y,function(n){var i=o(function(){return Promise.resolve(function(n,r,t){try{var o=n.trim(),i=a+"/src/components/",s=""+i+o,c=s+"/"+o+r;return Promise.resolve(m(i)).then(function(){h(e.cyan(o+" ✔️"));var n=a+"/src/styles/";return Promise.resolve(m(n)).then(function(){return Promise.resolve(m(s)).then(function(){function e(){return Promise.resolve(v(c,s)).then(function(){})}var r="",i="",s="",u=function(){if(".scss"===t){var e=n+"/components/";r=e+"/_"+o.toLowerCase()+t;var c=n+"styles.scss";return Promise.resolve(m(e)).then(function(){return Promise.resolve(v(r)).then(function(){return i+='@import "./components/'+o.toLowerCase()+'";\n',Promise.resolve(v(c,i,t)).then(function(){s=f.replace("[component]",o).replace("[component]",o)})})})}r=n+"/"+o.toLowerCase()+t;var u=""+n+o.toLowerCase()+t;return Promise.resolve(v(u)).then(function(){return Promise.resolve(v(r)).then(function(){var e='import "../../styles/'+o.toLowerCase()+t+'";\n\n';s=""+e+f.replace("[component]",o).replace("[component]",o)})})}();return u&&u.then?u.then(e):e()})})})}catch(e){return Promise.reject(e)}}(n,r,t)).then(function(){})},function(r){h.error(r),h(e.green(n+" ❌"))});if(i&&i.then)return i.then(function(){})});return P&&P.then?P.then(d):d()})}catch(e){return Promise.reject(e)}}};!function(){try{return console.log(e.bold.cyan(n.textSync("@AVCODEV",{font:"ANSI Shadow",horizontalLayout:"default",verticalLayout:"default"}))),Promise.resolve(r.prompt(l)).then(function(n){return Promise.resolve(function(n){try{var r=p[n.template],t=function(){if(r){var t=o(function(){return Promise.resolve(r(n)).then(function(n){n?console.log(e.green("Todos los componentes fueron creados con éxito!")):console.log(e.yellow("Algo salió mal durante la creación de componentes."))})},function(n){console.log(e.red("Error al crear el proyecto:",n))});if(t&&t.then)return t.then(function(){})}else console.log(e.red("No se encontró una función para la plantilla seleccionada."))}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(n)).then(function(){})})}catch(e){return Promise.reject(e)}}();
//# sourceMappingURL=index.module.js.map
